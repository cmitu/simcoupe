configure_file(
  Info-${PROJECT_TITLE}.plist.in
  ${CMAKE_CURRENT_BINARY_DIR}/Info-${PROJECT_TITLE}.plist)

set(RESOURCE_FILES
  ${CMAKE_CURRENT_SOURCE_DIR}/file_blank.icns
  ${CMAKE_CURRENT_SOURCE_DIR}/file_dsk.icns
  ${CMAKE_CURRENT_SOURCE_DIR}/file_mgt.icns
  ${CMAKE_CURRENT_SOURCE_DIR}/file_sad.icns
  ${CMAKE_CURRENT_SOURCE_DIR}/file_sbt.icns
  ${CMAKE_CURRENT_SOURCE_DIR}/SimCoupe.icns
  ${CMAKE_CURRENT_SOURCE_DIR}/Credits.html
  ${CMAKE_CURRENT_BINARY_DIR}/Info-${PROJECT_TITLE}.plist)

target_sources(${PROJECT_NAME}
  PRIVATE
    SDLMain.m
    "${RESOURCE_FILES}")

get_target_property(PREV_RESOURCE_FILES ${PROJECT_NAME} RESOURCE)
set(RESOURCE_FILES ${PREV_RESOURCE_FILES} ${RESOURCE_FILES})

set_target_properties(${PROJECT_NAME}
  PROPERTIES
    OUTPUT_NAME ${PROJECT_TITLE}
    MACOSX_BUNDLE TRUE
    MACOSX_BUNDLE_BUNDLE_NAME ${PROJECT_NAME}
    MACOSX_BUNDLE_INFO_PLIST "${CMAKE_CURRENT_BINARY_DIR}/Info-${PROJECT_TITLE}.plist"
    MACOSX_BUNDLE_INFO_STRING "${PROJECT_TITLE} v${MAJOR_VERSION}.${MINOR_VERSION}.${PATCH_VERSION}"
    MACOSX_BUNDLE_LONG_VERSION_STRING "${MAJOR_VERSION}.${MINOR_VERSION}.${PATCH_VERSION}"
    MACOSX_BUNDLE_SHORT_VERSION_STRING "${MAJOR_VERSION}.${MINOR_VERSION}"
    MACOSX_BUNDLE_BUNDLE_VERSION "${MAJOR_VERSION}.${MINOR_VERSION}"
    RESOURCE "${RESOURCE_FILES}")
